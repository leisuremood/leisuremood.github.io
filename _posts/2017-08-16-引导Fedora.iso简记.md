---
layout: post
title:  "引导Fedora.iso简记"
date:   2017-08-16
tags:
      - 随笔
---

# 引导Fedora.iso简记


grub2-install \--target=i386-pc \--boot-directory=/mnt/usb /dev/sdc
 
 我的custom.cfg位于(usb)/boot/grub2/custom.cfg
 
menuentry \"Fedora 22 Live Workstation (64 bit)\" { 
insmod part_msdos
insmod fat
insmod iso9660
set isoname=\"Fedora-Games-Live-x86_64-26-1.5\"
set isofile=\"/\${isoname}.iso\" 
set USBUUID=\"6594-1C6E\"
search \--no-floppy \--fs-uuid \--set=root \${USBUUID} 
loopback loop \$isofile 
linux (loop)/isolinux/vmlinuz iso-scan/filename=\${isofile}
root=live:CDLABEL=Fedora-Game-Live-26-1-5 rootfstype=auto ro
rd.live.image quiet  rhgb
initrd (loop)/isolinux/initrd.img
 }
 
 网上的可以试试：

[fedora 16
livecd硬盘u盘 安装](https://blog.csdn.net/bingo_boy/article/details/6957698) 新建一个目录, 比如fedora, 然后将iso解压到此文件夹中. 

则grub.cfg需要修改成如下

menuentry "Fedora Live CD"{
set root="(hd0,msdos1)"
 [Linux](https://lib.csdn.net/base/linux) /fedora/isolinux/vmlinuz0
root=UUID=0C02-A283 live_dir=/fedora/LiveOS/ liveimg quiet rhgb
rootfstype=auto
initrd /fedora/isolinux/initrd0.img
 }



> vgscan
>
> vgchange -a y fedora
>
> mount /dev/mapper/fedora-root  /mnt
>
> mount /dev/sda8 /mnt/boot
>
> mount /dev/sda2 /mnt/boot/efi
> mount \--bind /dev/ /mnt/dev
> mount \--bind /dev/pts /mnt/dev/pts
> mount \--bind /proc /mnt/proc
> mount \--bind /sys /mnt/sys
> 
> chroot /mnt
>
> grub-install \--target=x86_64-efi /dev/sda
>
> 然后系统报错grub2-install: error: /usr/lib/grub/x86_64-efi/modinfo.sh
> doesn\'t exist. Please specify \--target or \--directory
>
> dnf reinstall  grub2-efi-x64.x86_64
>
> dnf install grub2-efi-x64-modules.noarch
>
> 
>
> grub2-mkconfig -o /boot/efi/EFI/fedora/grub.cfg
>
> 
>
> exit&&sudo umount/mnt/sys &&sudo umount/mnt/proc &&sudo
> umount/mnt/dev/pts &&sudo umount/mnt/dev &&sudo umount/mnt
>
> grub2-mkconfig -o /boot/efi/EFI/fedora/grub.cfg

